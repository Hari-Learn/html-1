<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ARP Packet & Frame Flow</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-slate-100 min-h-screen p-6">

  <div class="max-w-6xl mx-auto">

    <!-- Title -->
    <h1 class="text-3xl font-bold text-center mb-4">
      Detailed Packet & Frame Flow with ARP
    </h1>

    <p class="text-center text-slate-600 mb-10">
      This page explains what happens <b>before ARP is called</b>, what a <b>MAC (Learning) Table</b> is,
      and how packet and frame flow occurs step by step.
    </p>

    <!-- Tables Explanation -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-10">

      <!-- MAC Table -->
      <div class="bg-white p-5 rounded-xl shadow border">
        <h2 class="text-xl font-semibold mb-2">MAC Table (Learning Table)</h2>
        <p class="text-slate-700 text-sm mb-2">
          A MAC table is maintained by a <b>switch</b>. It stores mappings of:
        </p>
        <p class="text-sm font-medium">MAC Address → Switch Port</p>
        <ul class="list-disc list-inside text-sm text-slate-600 mt-3 space-y-1">
          <li>Built by learning source MAC addresses</li>
          <li>Used to forward frames efficiently</li>
          <li>If destination MAC is unknown → broadcast</li>
        </ul>
      </div>

      <!-- ARP Cache -->
      <div class="bg-white p-5 rounded-xl shadow border">
        <h2 class="text-xl font-semibold mb-2">ARP Cache</h2>
        <p class="text-slate-700 text-sm mb-2">
          ARP cache is maintained by a <b>host or router</b>. It stores:
        </p>
        <p class="text-sm font-medium">IP Address → MAC Address</p>
        <ul class="list-disc list-inside text-sm text-slate-600 mt-3 space-y-1">
          <li>Checked before sending packets</li>
          <li>If entry exists → ARP not required</li>
          <li>If entry missing → ARP is triggered</li>
        </ul>
      </div>

    </div>

    <!-- Devices -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">

      <div class="bg-white p-4 rounded-xl shadow border text-center">
        <h3 class="font-semibold">Host A</h3>
        <p class="text-sm text-slate-600">IP: 192.168.1.10</p>
        <p class="text-sm text-slate-600">MAC: AA:AA:AA:AA:AA:AA</p>
      </div>

      <div class="bg-blue-100 p-4 rounded-xl shadow border text-center">
        <h3 class="font-semibold">Switch</h3>
        <p class="text-sm text-slate-600">Uses MAC Learning Table</p>
      </div>

      <div class="bg-white p-4 rounded-xl shadow border text-center">
        <h3 class="font-semibold">Host B</h3>
        <p class="text-sm text-slate-600">IP: 192.168.1.20</p>
        <p class="text-sm text-slate-600">MAC: BB:BB:BB:BB:BB:BB</p>
      </div>

    </div>

    <!-- Flow -->
    <div class="bg-white p-6 rounded-xl shadow">

      <h2 class="text-2xl font-semibold mb-4">Step-by-Step Packet & Frame Flow</h2>

      <ol class="list-decimal list-inside space-y-4 text-slate-700">

        <li>
          <b>Application generates data</b><br>
          Host A wants to send data to IP <b>192.168.1.20</b>.
        </li>

        <li>
          <b>Host checks ARP Cache (Before ARP)</b><br>
          Host A checks if IP → MAC mapping exists.
          <span class="text-red-600 font-medium">
            Entry not found → ARP required
          </span>
        </li>

        <li>
          <b>Packet creation (Layer 3)</b><br>
          IP packet is created with:
          <ul class="list-disc list-inside ml-5">
            <li>Source IP: 192.168.1.10</li>
            <li>Destination IP: 192.168.1.20</li>
          </ul>
        </li>

        <li>
          <b>ARP Request is sent</b><br>
          ARP request is encapsulated in an Ethernet frame:
          <ul class="list-disc list-inside ml-5">
            <li>Source MAC: AA:AA:AA:AA:AA:AA</li>
            <li>Destination MAC: FF:FF:FF:FF:FF:FF (Broadcast)</li>
          </ul>
        </li>

        <li>
          <b>Switch receives frame</b><br>
          Switch performs MAC learning:
          <ul class="list-disc list-inside ml-5">
            <li>Learns AA:AA:AA → Incoming port</li>
            <li>Destination MAC unknown → Broadcasts frame</li>
          </ul>
        </li>

        <li>
          <b>Host B receives ARP Request</b><br>
          Host B matches destination IP and prepares ARP Reply.
        </li>

        <li>
          <b>ARP Reply (Unicast)</b><br>
          Host B sends reply:
          <ul class="list-disc list-inside ml-5">
            <li>Source MAC: BB:BB:BB:BB:BB:BB</li>
            <li>Destination MAC: AA:AA:AA:AA:AA:AA</li>
          </ul>
        </li>

        <li>
          <b>Switch updates MAC Table</b><br>
          Learns BB:BB:BB → Port of Host B.
        </li>

        <li>
          <b>Host A updates ARP Cache</b><br>
          IP 192.168.1.20 → BB:BB:BB:BB:BB:BB
        </li>

        <li>
          <b>Normal data transfer starts</b><br>
          Frames are now sent as <b>unicast</b> using learned MAC addresses.
        </li>

      </ol>

    </div>

    <!-- Summary -->
    <div class="mt-8 bg-green-50 border border-green-300 p-4 rounded-xl">
      <h3 class="font-semibold mb-2">Summary</h3>
      <ul class="list-disc list-inside text-sm text-slate-700 space-y-1">
        <li>ARP Cache is checked before ARP is sent</li>
        <li>Switch MAC table is learned automatically</li>
        <li>ARP Request = Broadcast</li>
        <li>ARP Reply = Unicast</li>
        <li>After learning, communication is efficient</li>
      </ul>
    </div>

  </div>

</body>
</html>
